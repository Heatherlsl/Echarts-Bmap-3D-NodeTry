<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
		body, html{width: 100%;height: 100%;margin:0;font-family:"微软雅黑";}
		#allmap{height:93%;width:100%;}
		#r-result{width:100%; font-size:14px;}
	</style>
    <script type="text/javascript"
        src="http://api.map.baidu.com/api?v=2.0&ak=UfeymeKDi2eb3Yfvjz7XuI8e0waWuKwW"></script>
    <title>百度地图展示</title>
</head>

<body>
    <div id="allmap"></div>
    <div id="r-result">
        经度: <input id="longitude" type="text" style="width:100px; margin-right:10px;" />
        纬度: <input id="latitude" type="text" style="width:100px; margin-right:10px;" />
        <input type="button" value="查询" onclick="theLocation()" />
    </div>
</body>

</html>
<script type="text/javascript">
    // 百度地图API功能
    // var map = new BMap.Map("allmap");    // 创建Map实例
    var map = new BMap.Map("allmap", { enableMapClick: false });//构造底图时，关闭底图可点功能
    //添加地图类型控件
    map.addControl(new BMap.MapTypeControl({
        mapTypes: [
            BMAP_NORMAL_MAP,
            BMAP_HYBRID_MAP
        ]
    }));
    // map.addTileLayer(new BMap.TrafficLayer());
    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放   
    map.centerAndZoom("济源", 15);      // 初始化地图,用城市名设置地图中心点
    //map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);  // 初始化地图,设置中心点坐标和地图级别
    // map.setCurrentCity("济源");          // 设置地图显示的城市 此项是必须设置的
    var geoc = new BMap.Geocoder();
    function showInfo(e) {
        var pt = e.point;
        var title = "";
        geoc.getLocation(pt, function (rs) {
            var addComp = rs.addressComponents;
            title = addComp.province + addComp.city + addComp.district + addComp.street + addComp.streetNumber;
            var opts = {
                width: 250,     // 信息窗口宽度    
                height: 100,     // 信息窗口高度    
                title: title  // 信息窗口标题   
            };
            var infoWindow = new BMap.InfoWindow(`（${e.point.lng},${e.point.lat}）`, opts);  // 创建信息窗口对象       
            map.openInfoWindow(infoWindow, e.point);
        });
        // map.removeEventListener("click", showInfo); //只让第一次生效
    }
    map.addEventListener("click", showInfo);

    // 用经纬度设置地图中心点
    function theLocation() {
        if (document.getElementById("longitude").value != "" && document.getElementById("latitude").value != "") {
            map.clearOverlays();
            var new_point = new BMap.Point(document.getElementById("longitude").value, document.getElementById("latitude").value);
            var marker = new BMap.Marker(new_point);  // 创建标注
            map.addOverlay(marker);              // 将标注添加到地图中
            map.panTo(new_point);
        }
    }
    //世纪广地址：济源市学苑大街东段2号 坐标：112.608384,35.078657
    document.getElementById("longitude").value=112.608384,35;
    document.getElementById("latitude").value = 35.078657;
    theLocation();
</script>